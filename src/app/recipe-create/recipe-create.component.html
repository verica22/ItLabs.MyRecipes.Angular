<!--*CREATE RECIPE-->
<div class="img container">
    <div class="bgimg container col-sm-6">
        <br/>
        <div class="panel-heading">
            <h3 class="panel-title">Create New Recipe </h3>
        </div>
        <div class="panel-body">
            <form name="checkoutBillingForm" #userForm="ngForm">
                <div class="recipeName form-group" [ngClass]="{ 
                    'has-error':nameRef.invalid && nameRef.touched,
                    'has-success':nameRef.valid && nameRef.touched
                  }">
                    <label>Recipe Name</label>
                    <!--class="control-label"-->
                    <input type="text" #nameRef="ngModel" required minlength="3" maxlength="25" class="form-control" name="name" [ngModel]="Name">

                    <div class="help-block" *ngIf="nameRef.errors && (nameRef.dirty || nameRef.touched)">
                        <div [hidden]="!nameRef.errors.required">
                            Please enter a name
                        </div>
                        <div [hidden]="!nameRef.errors.minlength">
                            Please enter atleast 3 characters
                        </div>
                        <div [hidden]="!nameRef.errors.maxlength">
                            Please enter 25 characters max
                        </div>
                    </div>
                    <b>{{nameRef.className}}</b>
        </div>
        <div class="description form-group" [ngClass]="{ 
                    'has-error':description.invalid && description.touched,
                    'has-success':description.valid && description.touched
                     }">
            <label class="item item-input">
                     Description</label>
            <textarea #description="ngModel" required minlength="10" maxlength="1000" name="description" [ngModel]="Description">
                            </textarea>

            <div class="help-block" *ngIf="description.errors && (description.dirty || description.touched)">
                <div [hidden]="!description.errors.required">
                    Please enter description
                </div>
                <div [hidden]="!description.errors.minlength">
                    Recipe Description must be between 10 and 1000 characters
                </div>
                <div [hidden]="!description.errors.maxlength">
                    Recipe Description must be between 10 and 1000 characters
                </div>
            </div>
            <b>{{description.className}}</b>
    </div>
    <div class="chackboxes">
        <div class="form-group col-xs-5">
            <label>
                        <input #isDone type="checkbox" name="done" ng-true-value="true">
                        Done Recipe </label>

        </div>
        <div class="form-group col-xs-6">
            <label>
                        <input #isFavorite type="checkbox" name="favourite" ng-true-value="true">
                       Favorite Recipe </label>

        </div>
    </div>
    </form>
</div>
</div>
<div class="bgimg2 container col-sm-6">

    <br>
    <div class="panel-heading">
        <h3 class="panel-title">Add Ingredients </h3>
    </div>
    <br>

    <div class="addIngredient container col-xs-12">
        <!--Autocomplete-->
        <!--<form #form="ngForm">-->
        <!--{{form.valid}}-->
        <div class="ingredientName col-xs-5 form-group" [ngClass]="{ 
                    'has-error':ingredientName.invalid && ingredientName.touched,
                    'has-success':ingredientName.valid && ingredientName.touched
                  }">
            <label>Ingredient</label>
            <input #ingredientName required type="text" class="form-control" (keyup)="getIngredients(ingredientName.value)" [(ngModel)]="ingredientname"
            />
            <!--<span class="help-block" *ngIf="ingredientName.errors.required &&  ingredientName.touched">
                       <b> Please enter a name</b>
                    </span>-->
            <div *ngFor="let ingredient of ingredients" class="form-control">
                <span (click)="ingredientName.value=ingredient.Name; chooseIngredient(ingredient)"> 
                       {{ingredient.Name}}
                </span>
            </div>

    </div>

    <div class="quantity col-xs-2 form-group" [ngClass]="{ 
                    'has-error':quantity.invalid && quantity.touched,
                    'has-success':quantity.valid && quantity.touched
                     }">
        <label>Quantity </label>
        <input type="text" #quantity="ngModel" required class="form-control" name="quantity" [ngModel]="qua" />
        <div class="help-block" *ngIf="quantity.errors && (quantity.dirty || quantity.touched)">
            <div [hidden]="!quantity.errors.required" style="margin-left:-13px;">
                Required
            </div>

        </div>
        <b>{{quantity.className}}</b>
</div>
<div class="measurement col-xs-3 form-group">
    <label>Measurement </label>
    <select #measurement name="measurement" class="form-control">
                <option value="kg">Kg</option>
                <option value="g">g</option>
                <option value="l">l</option>
                <option value="number">Number</option>
                <option value="spoon">Spoon</option>
                <option value="teaspoon">Teaspoon</option>
                <option value="dessertspoon">Dessertspoon</option>
                <option value="gallon">Gallon</option>
                <option value="cup">Cup</option>
                <option value="litre">Litre</option>
                  </select>
</div>
<!--</form>-->
<div class="addButton col-xs-1">
    <label> </label>
    <button (click)="addIngredient(ingredientName.value, measurement.value, quantity.value)">
             <img src="../Photos/Plus.png"  opacity="0" title="Delete" width="20px" height="20px" value="Delete" />
             </button>
</div>
<!--</form>-->
</div>

<br/>
<div class="addedIngredients container col-sm-12" *ngIf="addedIngredients.length > 0">
    <div class="panel-body">
        <table class="table">
            <thead>
                <tr>
                    <th>Ingredient</th>
                    <th>Quantity</th>
                    <th>Measurement</th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ingredient of addedIngredients">
                    <td>{{ingredient.Name}}</td>
                    <td>{{ingredient.Quantity}}</td>
                    <td>{{ingredient.Measurement}}</td>

                    <td><button (click)="removeIngredient(ingredient)">
                         <img src="../Photos/minus.png"  opacity="0" title="Delete" width="20px" height="20px" value="Delete" /></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="saveButton col-xs">
    <button [disabled]="!userForm.form.valid" (click)="saveRecipe(nameRef.value,description.value,isDone.checked,isFavorite.checked,addedIngredients)"
        type="submit" class="btn btn-default" [routerLink]="['/recipe-list']"> Save </button>
</div>
</div>
</div>